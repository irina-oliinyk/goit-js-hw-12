{"version":3,"file":"commonHelpers.js","sources":["../src/img/error.svg","../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__8479b7dd__\"","// Функції для HTTP-запитів\n\nimport axios from 'axios';\n\nconst BASE_URL = \"https://pixabay.com\";\nconst ENDPOINT = \"api\";\nconst API_KEY = \"44801301-54ead35aff71c3b10e6d6b08d\";\n\naxios.defaults.baseURL = BASE_URL;\n\nfunction getFhotos({ q = \"\", page = 1, pageSize = 15, orientationPhoto ='horizontal',typeImage='photo', safesearch='true' } = {}) {\n  return axios\n    .get(ENDPOINT, {\n      params: {\n        apiKey: API_KEY,\n        q,\n        page,\n        pageSize,\n        language: \"en\",\n        orientationPhoto,\n        typeImage,\n        safesearch\n      },\n    })\n    .then(({ data }) => data);\n}\n\nexport { getFhotos };\n\n\n\n","// Функції для відображення елементів інтерфейсу\n\n// Функції для відображення елементів інтерфейсу\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  \nconst list = document.querySelector('.gallery');\n  \nfunction createMarcap(images) {\n  list.innerHTML = '';\n  const markup = images\n    .map(\n      ({ largeImageURL, webformatURL ,tags, likes, views, comments, downloads }) =>\n               `<li class=\"gallery-item\">\n        <a href=\"${largeImageURL}\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" width=\"320\" height=200\" class=\"card-img\"/>\n        </a>\n        <ul class=\"galery-item-description\">\n          <li>\n            <p class=\"count-text\">Likes</p>\n            <p class=\"count\">${likes}</p>\n          </li>\n          <li>\n            <p class=\"count-text\">Views</p>\n            <p class=\"count\">${views}</p>\n          </li>\n          <li>\n            <p class=\"count-text\">Comments</p>\n            <p class=\"count\">${comments}</p>\n          </li>\n          <li>\n            <p class=\"count-text\">Downloads</p>\n            <p class=\"count\">${downloads}</p>\n          </li>\n        </ul>\n      </li>\n      `\n    )\n        .join('');\n    list.insertAdjacentHTML('afterbegin', markup);\n\n  lightbox.refresh();\n};\n\nexport { createMarcap };","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport icon from './img/error.svg'\n\nimport axios from 'axios';\n\nimport { getFhotos } from \"./js/pixabay-api.js\";\n\nimport { createMarcap } from \"./js/render-function.js\";\n\nconst refs = {\n    form: document.querySelector('.form'),\n    list: document.querySelector('.gallery'),\n    buttonLoadMore: document.querySelector('[data-action=\"load-more\"]'),\n    spinner: document.querySelector('.loader')\n};\n\n\nconst params = {\n  q: \"\",\n  page: 1,\n  pageSize: 15,\n    maxPage: 0,\n    orientationPhoto: 'horizontal',\n    typeImage: 'photo',\n   safesearch:'true',\n};\n\nrefs.form.addEventListener('submit', handleSearch);\n\n\n// ховаємо кнопку при першому завантаженні сторінки\nhide(refs.buttonLoadMore);\n\nconsole.log(refs.buttonLoadMore);\nasync function handleSearch(event) {\n    event.preventDefault(); // step 1.1\n\n    // step 1.2.\n    refs.list.innerHTML = \"\";\n    params.page = 1;\n\n    const form = event.currentTarget;\n    params.q = form.elements.query.value.trim(); // step 1.3.\n\n    // 1.4.\n    if (!params.q) {\n        iziToast.show({\n      backgroundColor: '#ef4040',\n      close: false,\n      closeOnClick: true,\n      progressBarColor: 'white',\n      title: 'Error',\n      titleColor: 'white',\n      position: 'topRight',\n      messageColor: 'white',\n      messageSize: '16px',\n      message: 'Sorry, there are no images matching your search query. Please try again!',\n      icon: 'icon-error.svg',\n      iconUrl: icon\n        });\n        form.reset();\n        return;\n    }\n    console.log(params.q);\n    \n    // перед запитом показую кнопку та включаю спінер\n    try {\n        const photos = await getFhotos(params);\n        console.log(photos);\n    } catch(err) {\n        \n }\n\n}\n\n\n\nfunction hide(button) {\n  button.classList.add('is-hidden');\n}\n\nfunction show(button) {\n  button.classList.remove('is-hidden');\n}\n\nfunction disable(button, spinner) {\n  button.disabled = true;\n  spinner.classList.remove('is-hidden');\n}\n\nfunction enable(button, spinner) {\n  button.disabled = false;\n  spinner.classList.add('is-hidden');\n}"],"names":["icon","BASE_URL","ENDPOINT","API_KEY","axios","getFhotos","q","page","pageSize","orientationPhoto","typeImage","safesearch","data","SimpleLightbox","refs","params","handleSearch","hide","event","form","iziToast","photos","button"],"mappings":"owBAAA,MAAeA,EAAA,2CCITC,EAAW,sBACXC,EAAW,MACXC,EAAU,qCAEhBC,EAAM,SAAS,QAAUH,EAEzB,SAASI,EAAU,CAAE,EAAAC,EAAI,GAAI,KAAAC,EAAO,EAAG,SAAAC,EAAW,GAAI,iBAAAC,EAAkB,aAAa,UAAAC,EAAU,QAAS,WAAAC,EAAW,MAAQ,EAAG,GAAI,CAChI,OAAOP,EACJ,IAAIF,EAAU,CACb,OAAQ,CACN,OAAQC,EACR,EAAAG,EACA,KAAAC,EACA,SAAAC,EACA,SAAU,KACV,iBAAAC,EACA,UAAAC,EACA,WAAAC,CACD,CACP,CAAK,EACA,KAAK,CAAC,CAAE,KAAAC,CAAM,IAAKA,CAAI,CAC5B,CChBkB,IAAIC,EAAe,aAAc,CAC/C,aAAc,MACd,aAAc,GAClB,CAAG,EAEU,SAAS,cAAc,UAAU,ECF9C,MAAMC,EAAO,CACT,KAAM,SAAS,cAAc,OAAO,EACpC,KAAM,SAAS,cAAc,UAAU,EACvC,eAAgB,SAAS,cAAc,2BAA2B,EAClE,QAAS,SAAS,cAAc,SAAS,CAC7C,EAGMC,EAAS,CACb,EAAG,GACH,KAAM,EACN,SAAU,GACR,QAAS,EACT,iBAAkB,aAClB,UAAW,QACZ,WAAW,MACd,EAEAD,EAAK,KAAK,iBAAiB,SAAUE,CAAY,EAIjDC,EAAKH,EAAK,cAAc,EAExB,QAAQ,IAAIA,EAAK,cAAc,EAC/B,eAAeE,EAAaE,EAAO,CAC/BA,EAAM,eAAc,EAGpBJ,EAAK,KAAK,UAAY,GACtBC,EAAO,KAAO,EAEd,MAAMI,EAAOD,EAAM,cAInB,GAHAH,EAAO,EAAII,EAAK,SAAS,MAAM,MAAM,OAGjC,CAACJ,EAAO,EAAG,CACXK,EAAS,KAAK,CAChB,gBAAiB,UACjB,MAAO,GACP,aAAc,GACd,iBAAkB,QAClB,MAAO,QACP,WAAY,QACZ,SAAU,WACV,aAAc,QACd,YAAa,OACb,QAAS,2EACT,KAAM,iBACN,QAASpB,CACf,CAAS,EACDmB,EAAK,MAAK,EACV,MACH,CACD,QAAQ,IAAIJ,EAAO,CAAC,EAGpB,GAAI,CACA,MAAMM,EAAS,MAAMhB,EAAUU,CAAM,EACrC,QAAQ,IAAIM,CAAM,CACrB,MAAY,CAEf,CAEF,CAIA,SAASJ,EAAKK,EAAQ,CACpBA,EAAO,UAAU,IAAI,WAAW,CAClC"}